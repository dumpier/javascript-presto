<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>PHP-PRESTO</title>

<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" type="text/javascript" charset="utf-8" async="async"></script>
<link href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" rel="stylesheet" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css?family=Nunito:200,600" rel="stylesheet" type="text/css">

<script src="./res/presto.js"></script>

<style>
	* { font-size:9pt; }
	div.presto-loading { text-align:center; width:100%; height:90%; }
</style>

<script>
$(function(){
	// リンクを押下した際
	$("body").on("click", "a.presto-get", function(event){
		// リンクの直接遷移を無効化
		event.preventDefault();
		if(! $(this).attr("href")) { return false; }
		return presto.load($(this));
	});

	let rows = [
		{"id": 1, "name": "test", "caption" : "memo"},
		{"id": 2, "name": "test", "caption" : "memo"},
		{"id": 3, "name": "test", "caption" : "memo"},
		{"id": 4, "name": "test", "caption" : "memo"},
	];
	presto.table.target("div#presto-json-panel").rows(rows).render();

	let csv = [
		["id", "name", "caption"],
		[1, "name", "memo"],
		[2, "name", "memo"],
		[3, "name", "memo"],
		[4, "name", "memo"],
		[5, "name", "memo"],
	];
	presto.table.target("div#presto-csv-panel").rows(csv).render();
});

</script>
</head>

<body style="margin: 10px;">
	<a href="/character.html" class="btn btn-sm btn-info presto-get" data-toggle='modal' data-target='#modal' p-target="#modal-body">Load Modal</a>
	<a href="/character.html" class="btn btn-sm btn-success presto-get" data-toggle='modal' data-target='#modal' p-target="#modal-body">Load Modal</a>

	<div id="presto-json-panel" style="padding-top:10px;"></div>
	<div id="presto-csv-panel" style="padding-top:10px;"></div>

	<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="ModalLongTitle" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="ModalLongTitle">Modal title</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body" id='modal-body'></div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
</body>
</html>
